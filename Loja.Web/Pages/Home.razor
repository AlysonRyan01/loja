@page "/"
@using Loja.Core.Models
@inherits HomePage
<PageTitle>TVS - Home</PageTitle>

<img src="images/banner.png" alt="banner" class="banner"/>
<div class="produtos">
    @if (IsBusy)
    {
        <MudProgressCircular Color="Color.Info" Indeterminate="true"/>
    }
    else
    {
        foreach (var produto in Produtos)
        {
            <MudItem xs="12" sm="4" md="3" lg="3">
                <MudCard Style="display: flex; flex-direction: column; height: 70vh; overflow: hidden;">
                    <MudCarousel Style="flex-shrink: 0; width: 100%; height: 70%;" ShowArrows="true" EnableSwipeGesture="true" TData="Imagem" Autoplay="true" Interval="3000" Indicators="true">
                        @foreach (var imagem in produto.Imagens)
                        {
                            var imagemUrl = $"{WebConfiguration.BackendUrl}{imagem.Url}";
                            <MudCarouselItem Style="padding: 1em;">
                                <MudCardMedia Image="@imagemUrl" Style="display: flex; width: 100%; object-fit: cover;"/>
                            </MudCarouselItem>
                        }
                    </MudCarousel>
                    <MudCardContent Style="flex-grow: 1; overflow: auto;">
                        <h3>@produto.Titulo</h3>
                        <p>R$ @produto.Preco.ToString("F2")</p>
                        <MudButton Color="Color.Primary">
                            Comprar
                        </MudButton>
                    </MudCardContent>
                </MudCard>
            </MudItem>
        }
    }
</div>
